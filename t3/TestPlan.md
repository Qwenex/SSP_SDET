## Тест-План API функции расчета стоимости продуктов для задачи Т3

### 1. Введение
* Объект тестирования: REST API расчета стоимости продуктов с системой прогрессивных скидок\
и округлением количества до партий по 5 штук.

### 2. Цели тестирования
* Проверить корректность округления количества товаров до кратного 5
* Проверить расчет стоимости с учетом прогрессивной системы скидок
* Проверить валидацию входных параметров
* Проверить обработку ошибок и авторизацию

### 3. Объем тестирования
* Включено:
  * Функциональное тестирование логики округления
  * Тестирование бизнес-логики расчета стоимости
  * Тестирование валидации параметров
  * Тестирование авторизации и ошибок
* Исключено:
  * Нагрузочное тестирование
  * Тестирование безопасности (кроме базовой авторизации)
  * UI-тестирование
### 4. Подходы и стратегии
* Функциональное тестирование - проверка логики расчета и округления
  * Эквивалентное разделение:
    - count: 1-4 (→5), 5, 6-9 (→10), 10, 11-14 (→15)...
    - start: 0-4 (разные цены), 5+ (все по 10)
  * Граничные значения - переходы через 5, минимальные/максимальные значения
  * Позитивное тестирование - валидные данные
  * Негативное тестирование - невалидные данные
* Попарное тестирование - для сокращения общего числа тестов
* Параметризованное тестирование - для наглядности и компактности в виде таблиц
### 5. Критерии начала/окончания тестирования
* Критерии начала:
  * API доступно для тестирования
  * Получена финальная спецификация требований
  * Готовы тестовые данные
* Критерии приостановки тестирования:
  * Недоступность тестового стенда из-за ошибки или обновления
  * Нестабильность тестового стенда, тесты падают из-за внешних факторов
* Критерии продолжения тестирования:
  * Тестовый стенд функционирует и стабилен
  * Актуализация тест-кейсов после возможного обновления стенда
* Критерии успешного окончания:
  * Пройдены все критические тест-кейсы
  * Исправлены баги с Severity: Critical и Major
  * Достигнуто покрытие требований ≥90%
### 6. Тестовые среды и данные
* Среда:
  * Тестовый стенд API **GET** /products/{productId}/cost?authToken=&count=&start=
  * Инструменты: Postman
* Тестовые данные:
  * Валидный productId: 123
  * Валидный authToken: Abcdef1234567890 (16 символов)
  * Диапазоны тестовых значений count и start
### 7. Риски и ограничения
* Риски:
  * Сложная логика расчета при комбинациях start и округленного count
  * Неоднозначность в расчете стоимости при округлении
  * Недоступность тестового стенда
  * Отсутствие или нетрудоспособность члена команды
* Ограничения:
  * Ограниченный набор тестовых productId
  * Невозможность тестирования с реальными платежами
### 8. Необходимые ресурсы
* Компьютер(ы) с выходом в сеть интернет
* Тестовый стенд API
* Софт для тестирования API (пр. Postman)
* Персонал из QA отдела со знанием тестирования API-сервисов
### 9. Расписание
* Необходимое количество человеко-часов для прохождения тест-плана:\
12 часов
 * Группа тестов 1-2: 3 часа
 * Группа тестов 3: 2.5 часа
 * Группа тестов 4: 5 часов
 * Группа тестов 5: 1.5 часа
* Предполагаемые сроки начала и сдачи работы: \
26.11.2025 - 28.11.2025

## Детальный план тестирования
### 1. Тестирование логики расчета
* Проверка прогрессивной системы скидок в первой партии
* Проверка стоимости последующих партий
### 2. Тестирование логики округления
* Проверка округления count: 1→5, 6→10, 12→15...
* Проверка count кратного 5: 5, 10, 15...
### 3. Позитивное тестирование параметров
* Валидные значения start: (0, 1, 2, 3, 4, 5, 10, 15...)
* Валидные значения count: (1, 3, 5, 7, 10, 12, 15...)
* Граничные значения параметров
* Большие значения параметров
### 4. Негативное тестирование параметров
* Невалидное значение параметра start (отрицательные, дробные, строки, null)
* Невалидное значение параметра count (0, отрицательные, дробные, строки, null)
* Невалидный или отсутствующий authToken
* Несуществующий productId
### 5. Тестирование статус кодов и форматов ответов
* Успешный запрос: код 200 и тело в формате json {"cost":}
* Ошибки авторизации: код 401
* Продукт не найден: код 404
* Внутренние ошибки: код 500 и тело в формате json {"errorMessage":}
