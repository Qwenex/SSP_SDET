# T2. Bug Reports

---
## Part 2. API
Тестирование REST API PUT https://cloud-api.yandex.net:443/v1/disk/resources

---
### Bug Report №3
* **Заголовок:**\
Несоответствие кода ответа успешного создания папки: ожидается 200,\
фактически возвращается 201

* **Описание:**\
Согласно ТЗ, при успешном создании папки через PUT /v1/disk/resources \
должен возвращаться HTTP статус 200.\
Фактически сервер всегда возвращает статус 201 Created.

* **Среда:**
  * API: Яндекс Диск REST API
  * Клиент: Postman
  * Дата тестирования: 21.11.2025

* **Шаги для воспроизведения:**
  1. Подготовить к отправке PUT запрос на https://cloud-api.yandex.net:443/v1/disk/resources
  2. Получить валидный OAuth-токен - [valid_token]
  3. Установите заголовки: Content-Type: application/json, Authorization: [valid_token]
  4. Добавьте параметр: path=[путь_к_новой_папке]
  5. Отправьте запрос

* **Ожидаемый результат:**\
HTTP статус ответа: 200 OK
* **Фактический результат:**\
HTTP статус ответа: 201 Created

* **Серьезность:**\
Minor
* **Приоритет:**\
Low
* **Приложения:**\
        1. Скриншот: ![scrBugReport4.png](..%2Fscreenshots%2Ft2%2FbugReportsAPI%2FscrBugReport4.png)

---
### Bug Report №4
* **Заголовок:**\
Неправильный порядок полей в теле ошибки

* **Описание:**\
Согласно ТЗ, при ошибках (не 200-ые кода) тело ответа должно иметь порядок полей: message, description, error.
Фактически сервер возвращает поля в порядке: error, description, message.

* **Среда:**
  * API: Яндекс Диск REST API
  * Клиент: Postman
  * Дата тестирования: 21.11.2025

* **Шаги для воспроизведения:**
    1. Подготовить к отправке PUT запрос на https://cloud-api.yandex.net:443/v1/disk/resources
    2. Получить валидный OAuth-токен - [valid_token]
    3. Установите заголовки: Content-Type: application/json, Authorization: [valid_token]
    4. Отправьте запрос

* **Ожидаемый результат:**\
Ошибка с кодом 400 BAD REQUEST \
Тело ответа: {"message": "string", "description": "string", "error": "string"}
* **Фактический результат:**\
Ошибка с кодом 400 BAD REQUEST \
Тело ответа: {"error": "string", "description": "string", "message": "string"}

* **Серьезность:**\
Trivial
* **Приоритет:**\
Low
* **Приложения:**\
        1. Скриншот: ![scrBugReport5.png](..%2Fscreenshots%2Ft2%2FbugReportsAPI%2FscrBugReport5.png)

---
### Bug Report №5
* **Заголовок:**\
Некорректный параметр fields не обрабатывается - возвращается код 201 вместо 400

* **Описание:**\
При передаче некорректных значений в параметр fields (например, произвольные строки, \
несуществующие атрибуты) система должна возвращать ошибку 400.\
Фактически запрос выполняется успешно с кодом 201, игнорируя некорректный параметр \
и возвращая все поля по дефолту.

* **Среда:**
    * API: Яндекс Диск REST API
    * Клиент: Postman
    * Дата тестирования: 21.11.2025

* **Шаги для воспроизведения:**\
    1. Подготовить к отправке PUT запрос на https://cloud-api.yandex.net:443/v1/disk/resources
    2. Получить валидный OAuth-токен - [valid_token]
    3. Установите заголовки: Content-Type: application/json, Authorization: [valid_token]
    4. Добавьте параметр: path=[путь_к_новой_папке]
    5. Добавьте параметр: fields=[заведомо_несуществующий_параметр]
    6. Отправьте запрос

* **Ожидаемый результат:**\
HTTP статус 400 Bad Request с сообщением о некорректных данных
* **Фактический результат:**\
HTTP статус 201 Created, папка создается

* **Серьезность:**\
Major
* **Приоритет:**\
Medium
* **Приложения:**\
        1. Скриншот: ![scrBugReport6.png](..%2Fscreenshots%2Ft2%2FbugReportsAPI%2FscrBugReport6.png)

---
### Bug Report № 6
* **Заголовок:**\
Неправильный код ответа при создании уже существующей папки, 409 вместо 400.
* **Описание:**\
Согласно ТЗ, при попытке создания папки по существующему пути \
должен возвращаться статус код 400 Bad Request \
Фактически сервер возвращает 409 Conflict.

* **Среда:**
    * API: Яндекс Диск REST API
    * Клиент: Postman
    * Дата тестирования: 21.11.2025

* **Шаги для воспроизведения:**\
    1. Подготовить к отправке PUT запрос на https://cloud-api.yandex.net:443/v1/disk/resources
    2. Получить валидный OAuth-токен - [valid_token]
    3. Установите заголовки: Content-Type: application/json, Authorization: [valid_token]
    4. Добавьте параметр: path=[путь_к_уже_существующей_папке]
    5. Отправьте запрос

* **Ожидаемый результат:**\
HTTP статус 400 Bad Request
* **Фактический результат:**\
HTTP статус 409 Conflict

* **Серьезность:**\
Minor
* **Приоритет:**\
Low
* **Приложения:**\
  1. Скриншот: ![scrBugReport7.png](..%2Fscreenshots%2Ft2%2FbugReportsAPI%2FscrBugReport7.png)

---
